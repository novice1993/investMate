# (요약) 진행 우선순위

[1단계] Node.js 기반 yfinance → 시세 확보 (yahoo-finance2)
[2단계] DART Open API 연동 → 재무정보 확보
[3단계] KRX 크롤링 → 수급/거래량 확보
[4단계] 확보된 데이터 기반 Entity 설계

# 금융 데이터 수집을 위한 무료 API 및 자료 수집 방법

유료 서비스 없이 한국/미국 주식, 원자재(금/은), 채권 데이터를 수집하기 위한 무료 API 및 자료 수집 방법을 정리합니다.
하나의 API로 모든 것을 해결하는 것은 불가능하며, 여러 소스의 데이터를 조합하여 직접 인프라 레이어를 구축해야 합니다.

## 데이터 소스 요약 테이블

| 데이터 종류               | 추천 소스                                     | 제공 데이터                                    | 비고                                                                                                    |
| :------------------------ | :-------------------------------------------- | :--------------------------------------------- | :------------------------------------------------------------------------------------------------------ |
| **한국 주식 (시세)**      | `yfinance` 라이브러리, `Investing.com` 크롤링 | 시세(일/주/월봉), 거래량, 일부 지표            | `yfinance`가 가장 간편. `.KS`, `.KQ` 접미사 사용.                                                       |
| **한국 주식 (기본 정보)** | 한국거래소(KRX) 정보데이터시스템              | PER, PBR, 배당수익률, 종목 기본 정보           | Open API가 있으나 제한적. 웹사이트 크롤링이 더 많은 정보 제공.                                          |
| **한국 주식 (재무/공시)** | 금융감독원(FSS) DART Open API                 | 재무제표(손익계산서, 재무상태표 등), 공시 정보 | **가장 신뢰도 높은 재무 데이터 소스.** 필수적으로 사용해야 함.                                          |
| **미국 주식 (시세/재무)** | `yfinance`, `Alpha Vantage`                   | 시세, 거래량, 재무 정보, 주요 지표             | `yfinance`가 사용량 제한 없어 편리. `Alpha Vantage`는 무료 티어에서 API 호출 수 제한 있음 (일/분 단위). |
| **미국 주식 (공시)**      | SEC EDGAR API                                 | 미국 기업 공시 원본 데이터                     | DART와 유사한 역할. 전문적인 분석이 필요할 때 사용.                                                     |
| **금/은/원자재**          | `yfinance`, `Investing.com` 크롤링            | 금/은 현물 및 선물 가격, 관련 ETF 시세         | `yfinance`에서 'GC=F'(금 선물), 'SI=F'(은 선물) 또는 'GLD', 'SLV' (ETF) 티커로 조회 가능.               |
| **채권**                  | `Investing.com` 크롤링, FRED API              | 주요 국가 국채 금리(수익률), 일부 채권 ETF     | 개별 채권 정보는 무료로 얻기 매우 어려움. 국채 수익률 커브나 주요 채권 ETF 시세를 추적하는 것이 현실적. |

---

## 상세 설명 및 추천 전략

### 1. 주식 (한국/미국)

**Primary Engine: `yfinance` (Python 라이브러리)**

- **장점:** 사용이 매우 간편하고, API 키가 필요 없으며, 호출 수 제한이 없습니다. 한국 주식(예: `005930.KS` for 삼성전자), 미국 주식(예: `AAPL`), 원자재 ETF(예: `GLD`) 시세 데이터를 한번에 가져올 수 있어 **인프라의 기본 엔진으로 삼기에 가장 좋습니다.**
- **제공 데이터:** 시세(OHLCV), 거래량, 배당, 주식 분할 정보, 일부 기본 지표.
- **한계:** Yahoo Finance 웹사이트를 스크래핑하는 방식이라 100% 안정성을 보장하진 않으며, 제공되는 재무 데이터나 PER/PBR이 약간의 지연이나 부정확성을 가질 수 있습니다.

**Secondary Source (한국 재무/공시): DART Open API**

- **장점:** **국내 상장사의 재무제표 원천 데이터**로, 가장 정확하고 신뢰도가 높습니다. 순이익, YoY(직접 계산 필요) 등 상세 재무 분석을 위해서는 **필수**입니다.
- **사용법:** 인증키를 발급받아 API를 호출하여 특정 기업의 특정 기간 재무제표(손익계산서, 재무상태표 등) 데이터를 XML/JSON 형태로 받습니다.

**Tertiary Source (보조 데이터): KRX 정보데이터시스템 & `Investing.com`**

- **KRX:** `yfinance`에서 제공하지 않는 한국 시장만의 지표(예: 특정 방식으로 계산된 PER/PBR, 배당수익률)를 보완하기 위해 사용합니다. Open API보다는 웹사이트에서 원하는 정보를 찾아 크롤링하는 것이 더 많은 데이터를 얻을 수 있습니다.
- **Investing.com:** 수급 정보(외국인/기관 순매수 등)는 무료 Open API로 제공하는 곳이 거의 없습니다. `Investing.com`과 같은 금융 포털 사이트의 관련 페이지를 크롤링하여 데이터를 수집해야 합니다.

### 2. 금/은 및 원자재

`yfinance`를 사용하는 것이 가장 효율적입니다.

- **금 선물:** `GC=F`
- **은 선물:** `SI=F`
- **금 ETF:** `GLD`
- **은 ETF:** `SLV`

이 티커들을 사용하여 주식과 동일한 방식으로 시세 데이터를 얻을 수 있습니다.

### 3. 채권

채권은 무료로 상세 데이터를 얻기가 가장 까다로운 자산입니다. 현실적인 접근법은 다음과 같습니다.

- **국채 금리(수익률):**
  - **FRED (Federal Reserve Economic Data) API:** 미국 재무부 채권(2년, 10년 등)의 과거 수익률 데이터를 얻기에 가장 좋은 소스입니다. 장단기 금리차 분석 등에 필수적입니다.
  - **Investing.com 크롤링:** 한국을 포함한 다른 국가들의 국채 금리 정보를 얻을 수 있습니다.
- **채권 ETF:** 개별 채권 대신 채권 ETF의 시세를 추적하는 것이 훨씬 쉽습니다. `yfinance`에서 `TLT`(미국 장기 국채), `IEF`(미국 중기 국채) 등의 티커로 조회할 수 있습니다.

---

## 추천 인프라 구축 전략

1.  **`Repository` 레이어 설계:**
    - `StockRepository`, `CommodityRepository`, `BondRepository` 등으로 역할을 분리합니다.
    - `StockRepository` 내부에 `yfinanceClient`, `dartClient`, `krxClient` 등을 두어 데이터를 가져오는 로직을 캡슐화합니다.

2.  **구현 순서:**
    1.  **1단계 (기본 시세 구축):** `yfinance`를 사용하여 한국/미국 주식, 원자재/채권 ETF의 시세와 거래량을 가져오는 `Client`를 먼저 구현합니다. 이것만으로도 시스템의 기본 골격이 완성됩니다.
    2.  **2단계 (재무 데이터 연동):** DART API를 연동하여 `getFinancialStatements(기업코드, 연도, 분기)`와 같은 메서드를 구현합니다. 가져온 데이터를 `yfinance` 시세 데이터와 조합합니다.
    3.  **3단계 (보조 데이터 보강):** KRX나 포털 사이트 크롤링을 통해 PER/PBR, 수급 데이터를 가져오는 로직을 추가하여 데이터를 더욱 풍부하게 만듭니다.
